# Aegis - Secure Infrastructure DPU Agent Configuration
# See documentation: https://github.com/gobeyondidentity/secure-infra

# Control plane connection
control_plane:
  # Address of the control plane server
  address: "localhost:8443"
  # TLS configuration
  tls:
    enabled: true
    # Path to CA certificate for verifying control plane (optional for self-signed)
    ca_cert: ""
    # Path to client certificate for mutual TLS
    client_cert: "/etc/secureinfra/server.crt"
    client_key: "/etc/secureinfra/server.key"

# DPU configuration
dpu:
  # Communication channel type: tmfifo or rshim
  channel: "tmfifo"
  # TMFIFO device path (for tmfifo channel)
  tmfifo_path: "/dev/virtio-ports/com.mellanox.bf.tmfifo"

# Agent identification
agent:
  # Unique identifier for this DPU (defaults to serial number if empty)
  id: ""
  # Labels for grouping/filtering DPUs
  labels: {}

# Logging configuration
logging:
  level: "info"  # debug, info, warn, error
  format: "json" # json, text

# Metrics configuration
metrics:
  enabled: true
  address: ":9090"
